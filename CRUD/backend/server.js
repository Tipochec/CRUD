console.log('üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞...')
console.log('üìÅ –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:', __dirname)
console.log('üóÑÔ∏è –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î...')

const express = require('express'); //express - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
const cors = require('cors'); //cors - middleware –¥–ª—è –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
const transactionsRouter = require('./routes/transactions'); //–∏–º–ø–æ—Ä—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ä–æ—É—Ç–µ—Ä
const categoriesRouter = require('./routes/categories'); // –∏–º–ø–æ—Ä—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ä–æ—É—Ç–µ—Ä
const authRouter = require('./routes/auth'); 



const app = express(); //–°–æ–∑–¥–∞–µ–º Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
const PORT = process.env.PORT || 3000; //–ü–æ—Ä—Ç –±–µ—Ä–µ–º –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º 3000 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

// Middleware
app.use(cors()); //—Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –ª—é–±–æ–≥–æ –¥–æ–º–µ–Ω–∞ (Vue dev server –Ω–∞ 5173 –ø–æ—Ä—Ç—É)
app.use(express.json()); //–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç JSON –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

// –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç—ã
app.use('/api/transactions', transactionsRouter); //—Å—Å—ã–ª–∫–∞ —Å —Å–∞–π—Ç–µ backenda –∫—É–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç—ã
app.use('/api/categories', categoriesRouter); // —Å—Å—ã–ª–∫–∞ —Å —Å–∞–π—Ç–µ backenda –∫—É–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–æ—É—Ç—ã
app.use('/api/auth', authRouter)


// –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
app.listen(PORT, () => { //–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ —É–∫–∞–∑–∞–Ω–æ–º—É –ø–æ—Ä—Ç—É
  console.log(`üöÄ Backend server running on http://localhost:${PORT}`);
  console.log(`üìä API available at http://localhost:${PORT}/api/`);
});

// require - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è Node.js –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
// –ò—â–µ—Ç –º–æ–¥—É–ª—å 'express' –≤ –ø–∞–ø–∫–µ node_modules
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ –∫–æ–¥ –≤ –ø–∞–º—è—Ç—å
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é express

// CORS ‚Äî¬†–ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏/–ø–æ—Ä—Ç–∞–º–∏ –∏ –º—ã –ø—Ä–æ—Å—ã—Ç–º–∏ —Å–ª–æ–≤–∞–º–∏ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π —Ä–∞–∑—Ä–µ—à–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GET POST DELETE –∏ —Ç–¥.
// express.json() ‚Äî –ö–æ–≥–¥–∞ –∫ —Ç–µ–±–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–π –∏—Ö –≤ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π JavaScript –æ–±—ä–µ–∫—Ç, —á—Ç–æ–±—ã –º–Ω–µ –±—ã–ª–æ —É–¥–æ–±–Ω–æ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å